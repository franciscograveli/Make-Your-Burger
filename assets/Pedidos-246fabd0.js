import{_ as b,o,c as n,a as e,M as P,r as m,w as k,v as C,b as g,F as h,d as p,t as i,p as v,e as f}from"./index-c14c33b0.js";const S={name:"ReturnHome",methods:{returnHome(){this.$router.push("/")}}},q={class:"d-flex-center"};function x(t,s,l,_,d,c){return o(),n("div",null,[e("div",q,[e("button",{type:"button",onClick:s[0]||(s[0]=(...u)=>c.returnHome&&c.returnHome(...u))},"Fazer Pedido")])])}const H=b(S,[["render",x],["__scopeId","data-v-fc48ef6a"]]);const B={name:"Dashboard",data(){return{burgers:[],burger_id:null,status:[],msg:null}},methods:{async getPedidos(){const s=await(await fetch("http://localhost:3000/burgers")).json();s.length>0?(this.burgers=s,this.getStatus()):this.burgers=null},async getStatus(){const s=await(await fetch("http://localhost:3000/status")).json();this.status=s},async deleteBurger(t){await(await fetch(`http://localhost:3000/burgers/${t}`,{method:"DELETE"})).json(),this.msg="Pedido removido com sucesso!",setTimeout(()=>this.msg="",3e3),this.getPedidos()},async updateBurger(t,s){try{const _={status:t.target.value};(await fetch(`http://localhost:3000/burgers/${s}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)})).ok?(this.msg=`O pedido N° ${s} foi atualizado com sucesso!`,this.getPedidos()):this.msg="Erro ao atualizar o pedido do hambúrguer",setTimeout(()=>this.msg="",3e3)}catch(l){console.error("Ocorreu um erro durante a atualização:",l)}}},mounted(){this.getPedidos()},components:{Message:P,ReturnHome:H}},y=t=>(v("data-v-9abbebb2"),t=t(),f(),t),D={class:"main"},I={key:0,id:"burger-table"},E=y(()=>e("thead",null,[e("tr",{id:"burger-table-heading"},[e("th",{class:"order-id"},"#:"),e("th",null,"Cliente:"),e("th",null,"Pão:"),e("th",null,"Carne:"),e("th",null,"Opcionais:"),e("th",null,"Ações:")])],-1)),N={id:"burger-table-rows"},R={class:"order-number"},T=["onChange"],j=["value","selected"],z=["onClick"],M={key:1},O=y(()=>e("h2",null,"Não há pedidos no momento!",-1));function F(t,s,l,_,d,c){const u=m("Message"),$=m("ReturnHome");return o(),n("div",D,[k(g(u,{msg:d.msg},null,8,["msg"]),[[C,d.msg]]),d.burgers?(o(),n("table",I,[E,e("tbody",N,[(o(!0),n(h,null,p(d.burgers,a=>(o(),n("tr",{class:"burger-table-row",key:a.id},[e("td",R,i(a.id),1),e("td",null,i(a.nome),1),e("td",null,i(a.pao),1),e("td",null,i(a.carne),1),e("td",null,[e("ul",null,[(o(!0),n(h,null,p(a.opcionais,(r,w)=>(o(),n("li",{class:"li",key:w},"-> "+i(r),1))),128))])]),e("td",null,[e("select",{name:"status",onChange:r=>c.updateBurger(r,a.id)},[(o(!0),n(h,null,p(d.status,r=>(o(),n("option",{value:r.tipo,key:r.id,selected:a.status==r.tipo},i(r.tipo),9,j))),128))],40,T),e("button",{class:"delete-btn",onClick:r=>c.deleteBurger(a.id)},"Cancelar",8,z)])]))),128))])])):(o(),n("div",M,[O,g($)]))])}const A=b(B,[["render",F],["__scopeId","data-v-9abbebb2"]]);const L={name:"Pedidos",components:{Dashboard:A}},V=t=>(v("data-v-1e46e138"),t=t(),f(),t),G={class:"main-container"},J=V(()=>e("h1",null,"Gerenciar Pedidos:",-1));function K(t,s,l,_,d,c){const u=m("Dashboard");return o(),n("div",G,[J,g(u)])}const U=b(L,[["render",K],["__scopeId","data-v-1e46e138"]]);export{U as default};
